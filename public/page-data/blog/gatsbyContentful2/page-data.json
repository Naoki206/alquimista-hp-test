{"componentChunkName":"component---src-templates-blog-post-contentful-tsx","path":"/blog/gatsbyContentful2","result":{"data":{"contentfulPost":{"title":"Gatsby（GatsbyJS）× Contentful RichText Markdownそれぞれのcodeシンタックスハイライトの適用方法 (1)","author":"Naoki","createdAt":"2021/09/28 05:23:22","updatedAt":"2021/09/28 06:46:10","category":["Gatsby","Contentful"],"slug":"gatsbyContentful2","content":{"childMarkdownRemark":{"html":"<p>最近ノリにのっているヘッドレスCMS。\n現状、様々なサービスが提供されていますが、中でもContentfulでのブログ記事管理を行なっている方も多いのではないでしょうか。\n実際、当ブログもContentfulでブログの記事を管理し、Gatsbyでフロント側を実装しています。</p>\n<p>けれども、実際ContentfulをヘッドレスCMSに採用したところ、リッチテキストのフロントでの適用難易度がかなり高かったり、マークダウン、リッチテキストの両方とも、コードブロックのデフォルトデザインがほぼあってないようなくらいに洗練されていないことにストレスを覚えたのは私だけではないはずです。。</p>\n<p>そこで本記事では、contentfulのリッチテキスト、マークダウンテキストの両方でのコードブロックデザインのカスタマイズ方法について解説していこうと思います。</p>\n<p>※はじめに述べておきますが、Contentfulでのブログ記事にはマークダウンの利用を強くお勧めします。理由は2点あり、まずはじめに、マークダウン記法にくらべ、導入難易度がかなり高いことです。というのも、contentfulのリッチテキストの仕様はかなり使い勝手が悪く、通常のフローでは必ずといっていいほどぶつかる壁が出てきます(<a href=\"https://github.com/gatsbyjs/gatsby/issues/28729\">参照</a>)。こちらは書き出すと分量が多くなるので、また別の機会に記事にまとめさせていただこうと思います。もう一点はソースコードの記入を行う際のリッチテキストの貧弱さです。contentfulのリッチテキストでは、コードブロックは、html上でcodeブロックに内包してくれるのみで、qiitaやzennなどで適用されるようなコードシンタックスがデフォルトでは適用されません。またなにより、コードをリッチテキストの入力フォームにコピペする際、インデックスのフォーマットが自動で取り除かれるため、コピペ後、手動でコードのインデックスをと整えなければいけなく、非常に使い勝手が悪いです。また、文字の色の変更も整備されておらず、表なども組むことができません。上記などの理由から、管理コスト、導入コストの観点から、私はマークダウンの利用を強く勧めます。</p>\n<h2 id=\"リッチテキストでのコードシンタックスの適用\" style=\"position:relative;\"><a href=\"#%E3%83%AA%E3%83%83%E3%83%81%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%A7%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E3%82%B7%E3%83%B3%E3%82%BF%E3%83%83%E3%82%AF%E3%82%B9%E3%81%AE%E9%81%A9%E7%94%A8\" aria-label=\"リッチテキストでのコードシンタックスの適用 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>リッチテキストでのコードシンタックスの適用</h2>\n<h3 id=\"react-syntax-highlighterをインストール\" style=\"position:relative;\"><a href=\"#react-syntax-highlighter%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-label=\"react syntax highlighterをインストール permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>react-syntax-highlighterをインストール</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">yarn add react-syntax-highlighter # yarnでのインストール\nnpm install react-syntax-highlighter # npmでのインストール</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3 id=\"blog記事を表示しているtemplateファイルの編集\" style=\"position:relative;\"><a href=\"#blog%E8%A8%98%E4%BA%8B%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%A6%E3%81%84%E3%82%8Btemplate%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E7%B7%A8%E9%9B%86\" aria-label=\"blog記事を表示しているtemplateファイルの編集 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>blog記事を表示しているtemplateファイルの編集</h3>\n<ol>\n<li>MARKSの定義</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">import { BLOCKS, MARKS } from \"@contentful/rich-text-types\"</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<ol start=\"2\">\n<li>react-syntax-highlighterのimport + シンタックスハイライトスタイルの指定</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">import { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport { okaidia } from \"react-syntax-highlighter/dist/cjs/styles/prism\"; # ここではokaidiaを選択</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<ol start=\"3\">\n<li>コードブロックをdivタグで囲われるよう設定を変更し、シンタックスハイライトのスタイルを適用する関数を作成する。</li>\n</ol>\n<div class=\"gatsby-code-title\">ブログ詳細ページのtemplate</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  renderNode<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span><span class=\"token constant\">BLOCKS</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PARAGRAPH</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">node<span class=\"token punctuation\">,</span> children</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> node<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>marks<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'code'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  renderMark<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span><span class=\"token constant\">MARKS</span><span class=\"token punctuation\">.</span><span class=\"token constant\">CODE</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token parameter\">text</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>SyntaxHighlighter language<span class=\"token operator\">=</span><span class=\"token string\">\"javascript\"</span> style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>okaidia<span class=\"token punctuation\">}</span> showLineNumbers<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>text<span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>SyntaxHighlighter<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// コードブロックのシンタックスハイライト</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">code</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">text</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  text<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//不必要な部分を取り除く</span>\n  <span class=\"token keyword\">const</span> language <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//言語指定部分の削除</span>\n  text<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">////不必要な部分を取り除く</span>\n\n  <span class=\"token keyword\">const</span> value <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">acc<span class=\"token punctuation\">,</span> cur</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> cur <span class=\"token operator\">!==</span> <span class=\"token string\">\"string\"</span> <span class=\"token operator\">&amp;&amp;</span> cur<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">\"br\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> acc <span class=\"token operator\">+</span> <span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> acc <span class=\"token operator\">+</span> cur<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>SyntaxHighlighter language<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>language<span class=\"token punctuation\">}</span> style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>okaidia<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>SyntaxHighlighter<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"使用方法\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95\" aria-label=\"使用方法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用方法</h3>\n<p>以下のように、リッチテキストのcodeブロック一行目に使用する言語を明記する。\n※使用言語の箇所が上記で作成した関数内で取り除くため、実際に表示されることはありません。</p>\n<blockquote>\n<p>javascript:title=test.js\nconsole.log(“test)</p>\n</blockquote>\n<h2 id=\"マークダウンでのコードシンタックスの適用\" style=\"position:relative;\"><a href=\"#%E3%83%9E%E3%83%BC%E3%82%AF%E3%83%80%E3%82%A6%E3%83%B3%E3%81%A7%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E3%82%B7%E3%83%B3%E3%82%BF%E3%83%83%E3%82%AF%E3%82%B9%E3%81%AE%E9%81%A9%E7%94%A8\" aria-label=\"マークダウンでのコードシンタックスの適用 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>マークダウンでのコードシンタックスの適用</h2>\n<h3 id=\"必要プラグインgatsby-transformer-remark-gatsby-remark-prismjs-prismjs-gatsby-remark-prismjs-titleのインストール\" style=\"position:relative;\"><a href=\"#%E5%BF%85%E8%A6%81%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3gatsby-transformer-remark-gatsby-remark-prismjs-prismjs-gatsby-remark-prismjs-title%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-label=\"必要プラグインgatsby transformer remark gatsby remark prismjs prismjs gatsby remark prismjs titleのインストール permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>必要プラグイン(gatsby-transformer-remark, gatsby-remark-prismjs, prismjs, gatsby-remark-prismjs-title)のインストール</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\"># yarnでのインストール\nyarn add gatsby-transformer-remark gatsby-remark-prismjs prismjs\nyarn add gatsby-remark-prismjs-title\n\n# npmでのインストール\nnpm install gatsby-transformer-remark gatsby-remark-prismjs prismjs\nnpm install gatsby-remark-prismjs-title</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"configへの追記\" style=\"position:relative;\"><a href=\"#config%E3%81%B8%E3%81%AE%E8%BF%BD%E8%A8%98\" aria-label=\"configへの追記 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>configへの追記</h3>\n<div class=\"gatsby-code-title\">gatsby-browser.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n（中略）\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-remark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-remark-code-titles</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//ファイルのタイトルを表示</span>\n          <span class=\"token punctuation\">{</span>\n            resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-remark-prismjs</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              classPrefix<span class=\"token operator\">:</span> <span class=\"token string\">\"language-\"</span><span class=\"token punctuation\">,</span>\n              inlineCodeMarker<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n              aliases<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              showLineNumbers<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//行数を出したい場合trueに。</span>\n              noInlineHighlight<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"prismから適用するスタイルのcssをダウンロード\" style=\"position:relative;\"><a href=\"#prism%E3%81%8B%E3%82%89%E9%81%A9%E7%94%A8%E3%81%99%E3%82%8B%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%AEcss%E3%82%92%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89\" aria-label=\"prismから適用するスタイルのcssをダウンロード permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prismから適用するスタイルのCSSをダウンロード</h3>\n<ol>\n<li>以下のURLから適用したいスタイルを選択し、CSSファイル(prism.css)をダウンロードし、</li>\n</ol>\n<p><code class=\"language-text\">/src/styles/prismjs</code> 直下に配置する。\n<a href=\"https://prismjs.com/\">https://prismjs.com/</a></p>\n<ol start=\"2\">\n<li>コードのタイトルタブを表示できるようCSSファイルを作成する。</li>\n</ol>\n<p><code class=\"language-text\">/src/styles/prismjs</code> 直下にinit.cssを作成し以下の内容をコピペ。</p>\n<div class=\"gatsby-code-title\">init.css</div>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-css line-numbers\"><code class=\"language-css\"><span class=\"token selector\">.gatsby-code-title</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #0b293f<span class=\"token punctuation\">;</span> #好きな色を指定\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #fff<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> -0em<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 1rem 1rem<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 0.2<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> 600<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 8px 8px 0 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> table<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"スタイルシートの読み込み\" style=\"position:relative;\"><a href=\"#%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%82%B7%E3%83%BC%E3%83%88%E3%81%AE%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF\" aria-label=\"スタイルシートの読み込み permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>スタイルシートの読み込み</h3>\n<p>gatsby-browser.jsから、上記で作成したCSSファイルを読み込ませる。</p>\n<div class=\"gatsby-code-title\">gatsby-browser.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascrypt\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascrypt line-numbers\"><code class=\"language-javascrypt\">import &quot;./src/styles/prismjs/init.css&quot;\nimport &quot;./src/styles/prismjs/prism.css&quot;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>以上でコードシンタックスの適用ができたかと思います。\n冒頭でも触れましたが、技術ブログをcontentfulで管理するのは非常に不向きだと思いますので、できるかぎりマークダウンでかけるようにするとよいと思います！\n他の技術ブログプラットフォームにもスケールしやすいと思うのでお勧めです！</p>"}},"image":{"gatsbyImageData":{"images":{"sources":[{"srcSet":"//images.ctfassets.net/jozpq3l4wnc8/7J4hUhArJPlgAqQjBldfFv/5689d55a810b3ac2ac907d29a4f57113/_____________________.jpeg?w=53&h=59&q=50&fm=webp 53w,\n//images.ctfassets.net/jozpq3l4wnc8/7J4hUhArJPlgAqQjBldfFv/5689d55a810b3ac2ac907d29a4f57113/_____________________.jpeg?w=107&h=119&q=50&fm=webp 107w,\n//images.ctfassets.net/jozpq3l4wnc8/7J4hUhArJPlgAqQjBldfFv/5689d55a810b3ac2ac907d29a4f57113/_____________________.jpeg?w=213&h=236&q=50&fm=webp 213w","sizes":"(min-width: 213px) 213px, 100vw","type":"image/webp"}],"fallback":{"src":"//images.ctfassets.net/jozpq3l4wnc8/7J4hUhArJPlgAqQjBldfFv/5689d55a810b3ac2ac907d29a4f57113/_____________________.jpeg?w=213&h=236&fl=progressive&q=50&fm=jpg","srcSet":"//images.ctfassets.net/jozpq3l4wnc8/7J4hUhArJPlgAqQjBldfFv/5689d55a810b3ac2ac907d29a4f57113/_____________________.jpeg?w=53&h=59&fl=progressive&q=50&fm=jpg 53w,\n//images.ctfassets.net/jozpq3l4wnc8/7J4hUhArJPlgAqQjBldfFv/5689d55a810b3ac2ac907d29a4f57113/_____________________.jpeg?w=107&h=119&fl=progressive&q=50&fm=jpg 107w,\n//images.ctfassets.net/jozpq3l4wnc8/7J4hUhArJPlgAqQjBldfFv/5689d55a810b3ac2ac907d29a4f57113/_____________________.jpeg?w=213&h=236&fl=progressive&q=50&fm=jpg 213w","sizes":"(min-width: 213px) 213px, 100vw"}},"layout":"constrained","backgroundColor":"#f8f858","width":213,"height":236},"file":{"url":"//images.ctfassets.net/jozpq3l4wnc8/7J4hUhArJPlgAqQjBldfFv/5689d55a810b3ac2ac907d29a4f57113/_____________________.jpeg"}}},"site":{"siteMetadata":{"siteUrl":"https://peaceful-kare-d7c0d1.netlify.app"}}},"pageContext":{"slug":"gatsbyContentful2"}},"staticQueryHashes":["1395121020","266865420","3642823038","4147700465"]}